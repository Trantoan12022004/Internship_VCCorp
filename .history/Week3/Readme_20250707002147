# ğŸ’¬ WebSocket Chat Application

á»¨ng dá»¥ng chat thá»i gian thá»±c sá»­ dá»¥ng WebSocket vá»›i Node.js, Express vÃ  vanilla JavaScript.

## ğŸŒŸ TÃ­nh nÄƒng

### âœ… Chá»©c nÄƒng cÆ¡ báº£n
- **Real-time messaging**: Tin nháº¯n Ä‘Æ°á»£c gá»­i vÃ  nháº­n ngay láº­p tá»©c
- **User management**: Quáº£n lÃ½ danh sÃ¡ch ngÆ°á»i dÃ¹ng online
- **Message history**: Hiá»ƒn thá»‹ 10 tin nháº¯n gáº§n nháº¥t khi vÃ o chat
- **Connection status**: Hiá»ƒn thá»‹ tráº¡ng thÃ¡i káº¿t ná»‘i (Online/Offline)
- **User validation**: Kiá»ƒm tra tÃªn ngÆ°á»i dÃ¹ng (khÃ´ng trÃ¹ng, Ä‘á»™ dÃ i há»£p lá»‡)

### âœ… TÃ­nh nÄƒng nÃ¢ng cao
- **Typing indicators**: Hiá»ƒn thá»‹ khi ngÆ°á»i dÃ¹ng Ä‘ang nháº­p tin nháº¯n
- **Auto-reconnection**: Tá»± Ä‘á»™ng káº¿t ná»‘i láº¡i khi bá»‹ ngáº¯t (tá»‘i Ä‘a 5 láº§n)
- **Sound notifications**: Ã‚m thanh thÃ´ng bÃ¡o khi cÃ³ tin nháº¯n má»›i
- **Settings panel**: TÃ¹y chá»‰nh Ã¢m thanh vÃ  hiá»ƒn thá»‹ thá»i gian
- **Character counter**: Äáº¿m kÃ½ tá»± tin nháº¯n (giá»›i háº¡n 500 kÃ½ tá»±)
- **Responsive design**: Giao diá»‡n thÃ­ch á»©ng vá»›i mobile

### âœ… API Endpoints
- `GET /api/status`: ThÃ´ng tin tráº¡ng thÃ¡i server
- `GET /api/users`: Danh sÃ¡ch ngÆ°á»i dÃ¹ng online
- `WebSocket /`: Káº¿t ná»‘i chat real-time

## ğŸ› ï¸ CÃ i Ä‘áº·t

### YÃªu cáº§u há»‡ thá»‘ng
- **Node.js**: >= 14.0.0
- **npm**: >= 6.0.0
- **TrÃ¬nh duyá»‡t**: Chrome, Firefox, Safari, Edge (há»— trá»£ WebSocket)

### BÆ°á»›c 1: Clone hoáº·c táº£i dá»± Ã¡n
```bash
# Náº¿u cÃ³ Git
git clone <repository-url>
cd web_socket

# Hoáº·c táº£i vÃ  giáº£i nÃ©n file ZIP
```

### BÆ°á»›c 2: CÃ i Ä‘áº·t dependencies
```bash
npm install
```

### BÆ°á»›c 3: Cháº¡y á»©ng dá»¥ng

#### Development mode (tá»± Ä‘á»™ng restart khi code thay Ä‘á»•i)
```bash
npm run dev
```

#### Production mode
```bash
npm start
```

### BÆ°á»›c 4: Truy cáº­p á»©ng dá»¥ng
Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p:
- **Chat App**: http://localhost:3000
- **Server Status**: http://localhost:3000/api/status
- **Users List**: http://localhost:3000/api/users

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
web_socket/
â”œâ”€â”€ server.js              # WebSocket server chÃ­nh
â”œâ”€â”€ package.json           # Dependencies vÃ  scripts
â”œâ”€â”€ README.md             # HÆ°á»›ng dáº«n nÃ y
â”œâ”€â”€ .gitignore            # File gitignore
â””â”€â”€ public/               # Frontend files
    â”œâ”€â”€ index.html        # Giao diá»‡n chÃ­nh
    â”œâ”€â”€ script.js         # JavaScript client
    â””â”€â”€ style.css         # CSS styling
```

## ğŸš€ CÃ¡ch sá»­ dá»¥ng

### 1. Tham gia chat
- Nháº­p tÃªn cá»§a báº¡n (tá»‘i Ä‘a 20 kÃ½ tá»±)
- Click "Tham gia Chat"

### 2. Gá»­i tin nháº¯n
- Nháº­p tin nháº¯n vÃ o Ã´ chat (tá»‘i Ä‘a 500 kÃ½ tá»±)
- Nháº¥n Enter hoáº·c click nÃºt gá»­i

### 3. Xem ngÆ°á»i dÃ¹ng online
- Danh sÃ¡ch ngÆ°á»i dÃ¹ng hiá»ƒn thá»‹ á»Ÿ sidebar bÃªn trÃ¡i
- Sá»‘ lÆ°á»£ng ngÆ°á»i online hiá»ƒn thá»‹ á»Ÿ header

### 4. CÃ i Ä‘áº·t
- Click nÃºt âš™ï¸ á»Ÿ gÃ³c pháº£i header
- TÃ¹y chá»‰nh Ã¢m thanh thÃ´ng bÃ¡o vÃ  hiá»ƒn thá»‹ thá»i gian

## ğŸ§ª Test á»©ng dá»¥ng

### Test cÆ¡ báº£n
```bash
# Kiá»ƒm tra server status
curl http://localhost:3000/api/status

# Kiá»ƒm tra danh sÃ¡ch users
curl http://localhost:3000/api/users
```

### Test multi-user
1. Má»Ÿ nhiá»u tab trÃ¬nh duyá»‡t
2. Tham gia vá»›i tÃªn khÃ¡c nhau
3. Gá»­i tin nháº¯n giá»¯a cÃ¡c tab
4. Kiá»ƒm tra typing indicator

### Test reconnection
1. Táº¯t server (Ctrl+C)
2. Khá»Ÿi Ä‘á»™ng láº¡i server
3. Kiá»ƒm tra client tá»± Ä‘á»™ng reconnect

## ğŸ”§ Cáº¥u hÃ¬nh

### Thay Ä‘á»•i port
```javascript
// Trong server.js
const PORT = process.env.PORT || 3000; // Thay Ä‘á»•i 3000 thÃ nh port mong muá»‘n
```

### Thay Ä‘á»•i giá»›i háº¡n tin nháº¯n
```javascript
// Trong server.js - function handleChatMessage
if (message.length > 500) { // Thay Ä‘á»•i 500 thÃ nh giá»›i háº¡n mong muá»‘n
```

### Thay Ä‘á»•i sá»‘ lÆ°á»£ng tin nháº¯n lá»‹ch sá»­
```javascript
// Trong server.js
const recentMessages = messageHistory.slice(-10); // Thay Ä‘á»•i -10 thÃ nh sá»‘ lÆ°á»£ng mong muá»‘n
```

## ğŸ“¦ Dependencies

### Production
- **express**: ^4.18.2 - Web framework
- **ws**: ^8.14.2 - WebSocket library

### Development
- **nodemon**: ^3.0.1 - Auto-restart server

## ğŸ› Troubleshooting

### Lá»—i "Cannot find module"
```bash
# XÃ³a node_modules vÃ  cÃ i Ä‘áº·t láº¡i
rm -rf node_modules package-lock.json
npm install
```

### Lá»—i "Port already in use"
```bash
# Windows - TÃ¬m vÃ  kill process Ä‘ang sá»­ dá»¥ng port
netstat -ano | findstr :3000
taskkill /PID <PID> /F

# Hoáº·c thay Ä‘á»•i port trong server.js
```

### WebSocket connection failed
- Kiá»ƒm tra firewall/antivirus
- Äáº£m báº£o khÃ´ng cÃ³ proxy cháº·n WebSocket
- Thá»­ trÃ¬nh duyá»‡t khÃ¡c

### Tin nháº¯n khÃ´ng hiá»ƒn thá»‹
- Má»Ÿ Developer Tools (F12)
- Kiá»ƒm tra Console cÃ³ lá»—i khÃ´ng
- Kiá»ƒm tra Network tab cÃ³ káº¿t ná»‘i WebSocket

## ğŸ”’ Báº£o máº­t

### Hiá»‡n táº¡i Ä‘Ã£ implement
- **HTML escaping**: TrÃ¡nh XSS attacks
- **Input validation**: Kiá»ƒm tra Ä‘á»™ dÃ i tin nháº¯n vÃ  tÃªn
- **Connection cleanup**: Dá»n dáº¹p káº¿t ná»‘i inactive

### Cáº§n cáº£i thiá»‡n cho production
- Rate limiting
- User authentication
- Message encryption
- Input sanitization nÃ¢ng cao

## ğŸ“ˆ Má»Ÿ rá»™ng

### TÃ­nh nÄƒng cÃ³ thá»ƒ thÃªm
- Database integration (MongoDB, PostgreSQL)
- User authentication/authorization
- Private messaging
- File/image sharing
- Multiple chat rooms
- Message reactions/emoji
- Admin panel
- Mobile app

### Scaling
- Redis cho session management
- Load balancer cho multiple instances
- CDN cho static files
- Message queue (RabbitMQ, Kafka)

## ğŸ¤ ÄÃ³ng gÃ³p

1. Fork dá»± Ã¡n
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

## ğŸ“„ License

Dá»± Ã¡n nÃ y sá»­ dá»¥ng MIT License.

## ğŸ“ Há»— trá»£

Náº¿u gáº·p váº¥n Ä‘á», vui lÃ²ng:
1. Kiá»ƒm tra pháº§n Troubleshooting
2. Táº¡o issue trÃªn GitHub
3. LiÃªn há»‡ developer

## ğŸ“¸ Screenshots

### Giao diá»‡n Ä‘Äƒng nháº­p
![Login Interface](screenshots/login.png)

### Giao diá»‡n chat
![Chat Interface](screenshots/chat.png)

### Panel cÃ i Ä‘áº·t
![Settings Panel](screenshots/settings.png)

---

**PhÃ¡t triá»ƒn bá»Ÿi**: [TÃªn cá»§a báº¡n]  
**PhiÃªn báº£n**: 1.0.0  
**NgÃ y cáº­p nháº­t**: 2025-01-07

## ğŸ¯ Demo

Xem demo trá»±c tuyáº¿n táº¡i: [Demo Link]

## ğŸš€ Quick Start

```bash
# Clone vÃ  cháº¡y nhanh
git clone <repository-url>
cd web_socket
npm install
npm start

# Má»Ÿ trÃ¬nh duyá»‡t: http://localhost:3000
```

## ğŸ” TÃ­nh nÄƒng chi tiáº¿t

### WebSocket Events
- `connection`: Khi client káº¿t ná»‘i
- `message`: Nháº­n tin nháº¯n tá»« client
- `close`: Khi client ngáº¯t káº¿t ná»‘i
- `error`: Xá»­ lÃ½ lá»—i káº¿t ná»‘i

### Message Types
- `setUsername`: Äáº·t tÃªn ngÆ°á»i dÃ¹ng
- `message`: Gá»­i tin nháº¯n chat
- `typing`: Tráº¡ng thÃ¡i Ä‘ang nháº­p
- `ping/pong`: Heartbeat connection

### Client Features
- Automatic reconnection with exponential backoff
- Typing indicators with timeout
- Sound notifications (optional)
- Message validation and sanitization
- Responsive design for mobile devices